import{r as e,l as a,K as l,c as s,w as t,i,o as u,b as o,f as n,t as m,u as f,n as d,L as c,C as r,h as p,k as _,m as v,H as y,I as b,M as g,j as I}from"./index-C-XsXVfx.js";import{o as C}from"./uni-app.es.DhiN6RXN.js";import{s as k,m as x}from"./store.DpSSVhXf.js";import{_ as F}from"./_plugin-vue_export-helper.BCo6x5W8.js";const U=F({__name:"my",setup(F){const U=e({uname:"匿名用户",gender:"保密",admissionYear:2024,campus:"保密"});C((()=>{a("tempUserInfo")?U.value=a("tempUserInfo"):l("tempUserInfo",U.value)}));const V=e(!1);return(e,a)=>{const C=i,F=b,j=g,h=I;return u(),s(C,{class:"container"},{default:t((()=>[o(C,{class:"my-info-page-title"},{default:t((()=>[n(" 我的信息 ")])),_:1}),o(C,{class:"my-info-form"},{default:t((()=>[o(C,{class:"my-info-item login-status"},{default:t((()=>[o(C,{class:"my-info-item-label"},{default:t((()=>[n("状态")])),_:1}),o(C,{class:"my-info-item-value",onClick:a[0]||(a[0]=e=>{k.userInfo._id?r({title:"确定退出登录吗？",confirmColor:"#BF5AF2",success:e=>{e.confirm&&x.logout()}}):c({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd"})})},{default:t((()=>[n(m(f(k).userInfo._id?"已登录（点击登出）":"未登录（点击登录）"),1)])),_:1})])),_:1}),o(C,{class:"my-info-item"},{default:t((()=>[o(C,{class:"my-info-item-label"},{default:t((()=>[n("用户ID")])),_:1}),o(C,{class:"my-info-item-value",style:{overflow:"hidden"}},{default:t((()=>[n(m(f(k).userInfo._id?f(k).userInfo._id.substr(10):"Null"),1)])),_:1})])),_:1}),o(C,{class:"my-info-item"},{default:t((()=>[o(C,{class:"my-info-item-label"},{default:t((()=>[n("昵称")])),_:1}),o(F,{class:d(["my-info-item-value input",{editting:V.value}]),modelValue:U.value.uname,"onUpdate:modelValue":a[1]||(a[1]=e=>U.value.uname=e),disabled:!V.value,type:"text"},null,8,["class","modelValue","disabled"])])),_:1}),o(C,{class:"my-info-item"},{default:t((()=>[o(C,{class:"my-info-item-label"},{default:t((()=>[n("性别")])),_:1}),o(C,{class:d(["my-info-item-value",{editting:V.value}]),onClick:a[2]||(a[2]=e=>function(){if(!V.value)return;const e=["保密","男","女","其他"];y({itemList:e,itemColor:"#BF5AF2",success:a=>{U.value.gender=e[a.tapIndex]}})}())},{default:t((()=>[n(m(U.value.gender),1)])),_:1},8,["class"])])),_:1}),o(C,{class:"my-info-item"},{default:t((()=>[o(C,{class:"my-info-item-label"},{default:t((()=>[n("入学年份")])),_:1}),o(F,{class:d(["my-info-item-value input",{editting:V.value}]),modelValue:U.value.admissionYear,"onUpdate:modelValue":a[3]||(a[3]=e=>U.value.admissionYear=e),disabled:!V.value,type:"number"},null,8,["class","modelValue","disabled"])])),_:1}),o(C,{class:"my-info-item"},{default:t((()=>[o(C,{class:"my-info-item-label"},{default:t((()=>[n("校区")])),_:1}),o(C,{class:d(["my-info-item-value",{editting:V.value}]),onClick:a[4]||(a[4]=e=>function(){if(!V.value)return;const e=["保密","群力校区","南岗校区","其他学校"];y({itemList:e,itemColor:"#BF5AF2",success:a=>{U.value.campus=e[a.tapIndex]}})}())},{default:t((()=>[n(m(U.value.campus),1)])),_:1},8,["class"])])),_:1}),o(C,{class:"my-info-tips"},{default:t((()=>[n(" 个人信息为本地临时存储，不与账号绑定 ")])),_:1})])),_:1}),o(j,{class:"my-info-button",onClick:a[5]||(a[5]=e=>{k.userInfo._id?(V.value&&(_({title:"正在保存",mask:!0}),l("tempUserInfo",U.value),v(),p({title:"保存成功",duration:500})),V.value=!V.value):p({title:"尚未登录",icon:"none",duration:500})})},{default:t((()=>[n(m(V.value?"保存信息":"修改信息"),1)])),_:1}),o(h,{class:"button-about-application",url:"/pages/about-application/about-application"},{default:t((()=>[n(" 关于软件 ")])),_:1})])),_:1})}}},[["__scopeId","data-v-7d80bcfb"]]);export{U as default};
